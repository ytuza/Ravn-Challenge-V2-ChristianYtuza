(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{52:function(e,n,a){},78:function(e,n,a){},79:function(e,n,a){},84:function(e,n,a){},92:function(e,n,a){"use strict";a.r(n);var c=a(3),t=a(4),s=a.n(t),r=a(66),o=a.n(r),i=(a(78),a(79),a(26)),l=a(48);i.b.add(l.b,l.a);var d=a(24),j=a(50),b=a(51),h=a(40),u=(a(52),a(33));a(84);function m(){var e=Object(h.a)(["\n  fragment PersonFragment on PeopleConnection {\n    edges{\n      node{\n        id\n        name\n        eyeColor\n        hairColor\n        skinColor\n        birthYear\n\n        vehicleConnection{\n          edges{\n            node{\n              id\n              name\n            }\n          }\n        }\n\n        species {\n          name\n        }\n        homeworld {\n          name\n        }\n      }\n    }\n  }\n"]);return m=function(){return e},e}var p=Object(d.gql)(m());function v(e){var n=e.Person;return n.node.species?Object(c.jsxs)("div",{className:"specie",children:[n.node.species.name," from ",n.node.homeworld.name]}):Object(c.jsxs)("div",{className:"specie",children:["Human from ",n.node.homeworld.name," "]})}function O(e){var n=e.func,a=e.allPeople;return Object(c.jsx)("div",{children:a.edges.map((function(e){return Object(c.jsxs)("div",{className:"person",children:[Object(c.jsx)("div",{className:"name",children:e.node.name}),Object(c.jsx)(v,{Person:e}),Object(c.jsx)(u.a,{icon:"chevron-right",className:"arrow button",onClick:function(){n(e)}})]},e.node.id)}))})}O.fragments={PeopleConnection:p};var f=a(70),x=a(68);function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}var N=function(e){var n=e.node;return null!=n?Object(c.jsxs)("div",{className:"properties ",children:[Object(c.jsx)("div",{className:"tituloPro",children:"General Information"}),Object(c.jsxs)("div",{className:"character",children:[Object(c.jsx)("div",{className:"datapro",children:" Eye Color "}),Object(c.jsx)("div",{className:"dataproV",children:g(n.eyeColor)})]}),Object(c.jsxs)("div",{className:"character",children:[Object(c.jsx)("div",{className:"datapro",children:" Hair Color "}),Object(c.jsxs)("div",{className:"dataproV",children:[" ",g(n.hairColor)," "]})]}),Object(c.jsxs)("div",{className:"character",children:[Object(c.jsx)("div",{className:"datapro",children:" Skin Color "}),Object(c.jsxs)("div",{className:"dataproV",children:[" ",g(n.skinColor)," "]})]}),Object(c.jsxs)("div",{className:"character",children:[Object(c.jsx)("div",{className:"datapro",children:" Birth Year "}),Object(c.jsxs)("div",{className:"dataproV",children:[" ",g(n.birthYear)," "]})]}),Object(c.jsx)("div",{className:"tituloPro",children:" Vehicles "}),Object(c.jsx)("div",{children:n.vehicleConnection.edges.map((function(e){return Object(c.jsx)("div",{className:"character2 ",children:Object(c.jsx)("div",{className:"datapro",children:e.node.name})},e.node.id)}))})]}):Object(c.jsx)("div",{})};function C(){var e=Object(h.a)(["\n  query peopleQuery( $after : String){\n    allPeople(first: 5 after: $after){\n      totalCount\n      ...PersonFragment\n      pageInfo{\n        endCursor\n        hasNextPage\n      }\n    }\n  }\n  ","\n\n"]);return C=function(){return e},e}var P=Object(d.gql)(C(),O.fragments.PeopleConnection);var y=function(){var e=Object(t.useState)(!1),n=Object(b.a)(e,2),a=(n[0],n[1]),s=Object(d.useQuery)(P,{variables:{after:null}}),r=s.loading,o=s.error,i=s.data,l=s.fetchMore,h=Object(t.useState)(null),m=Object(b.a)(h,2),p=m[0],v=m[1];return r?Object(c.jsxs)("div",{className:"Loading",children:[Object(c.jsx)(u.a,{icon:"spinner",spin:!0})," ",Object(c.jsx)("div",{className:"loadtext",children:"Loading"})]}):o?(console.log(o),Object(c.jsx)("div",{className:"failed",children:"Failed to Load Data"})):Object(c.jsxs)("div",{className:"bottonbar",children:[Object(c.jsxs)("div",{className:"listPeople",children:[Object(c.jsx)(O,{func:function(e){a(!0),v(e.node)},allPeople:Object(f.a)(O.fragments.PeopleConnection,i.allPeople)}),Object(c.jsx)(x.a,{bottomOffset:"5%",onEnter:function(){if(console.log("paltas2"),i.allPeople.pageInfo.hasNextPage){var e=i.allPeople.pageInfo.endCursor;l({variables:{after:e},updateQuery:function(e,n){var a=n.fetchMoreResult;return a.allPeople.edges=[].concat(Object(j.a)(e.allPeople.edges),Object(j.a)(a.allPeople.edges)),a}})}else console.log("Ya no hay mas")},children:Object(c.jsxs)("div",{className:"Loading",children:[Object(c.jsx)(u.a,{className:"mx-3",icon:"spinner",spin:!0}),Object(c.jsx)("div",{className:"loadtext",children:"Loading"})]})})]}),Object(c.jsx)(N,{node:p})]})},w=new d.ApolloClient({uri:"https://swapi-graphql.netlify.app/.netlify/functions/index",cache:new d.InMemoryCache});var F=function(){return Object(c.jsxs)(d.ApolloProvider,{client:w,children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"headerRAVN",children:" Ravn Star Wars Registry"})}),Object(c.jsx)(y,{})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(n){var a=n.getCLS,c=n.getFID,t=n.getFCP,s=n.getLCP,r=n.getTTFB;a(e),c(e),t(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),I()}},[[92,1,2]]]);
//# sourceMappingURL=main.765627b3.chunk.js.map